{"ast":null,"code":"import _slicedToArray from\"/Users/failop/Documents/UF/SeniorP/project/proj/Front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import\"./../../css/Register2.css\";import\"./../../css/Register.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password1=_useState6[0],setPassword1=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password2=_useState8[0],setPassword2=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),errors=_useState10[0],setErrors=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];useEffect(function(){if(localStorage.getItem('token')!==null){window.location.replace('http://localhost:3000/');}else{setLoading(false);}},[]);var onSubmit=function onSubmit(e){e.preventDefault();var FormData=require('form-data');var userR2=new FormData();userR2.append('user',user);userR2.append('email',email);userR2.append('password',password1);var requestOptions={method:'POST',body:userR2,redirect:'follow'};fetch(\"https://stock-pipeli-users-fje2brrt8yy.herokuapp.com/register/\",requestOptions)// .then(res => res.json())\n.then(function(response){if(response.ok){console.log(response.text());return 0;}throw new Error(\"Something went wrong\");})// => console.log(response.text()))\n.then(function(data){window.location.replace('http://localhost:3000/');}).catch(function(error){console.log(\"else happen\");setUser('');setEmail('');setPassword1('');setPassword2('');localStorage.clear();setErrors(true);console.log('Request Failed',error);});};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"reg_box\",children:[loading===false&&/*#__PURE__*/_jsx(\"h1\",{className:\"reg_text0\",children:\"Signup\"}),errors===true&&/*#__PURE__*/_jsx(\"h2\",{className:\"reg_text0\",children:\"Cannot signup with provided credentials\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reg_box2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reg_box3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"reg_text\",children:\"Username: \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"reg_box3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"reg_Base2\",name:\"user\",type:\"user\",value:user,onChange:function onChange(e){return setUser(e.target.value);},required:true}),' ']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reg_box2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reg_box3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"reg_text\",children:\"Email: \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"reg_box3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"reg_Base2\",name:\"email\",type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true}),' ']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reg_box2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reg_box3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"reg_text\",children:\"Password: \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"reg_box3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"reg_Base2\",name:\"password1\",type:\"password\",value:password1,onChange:function onChange(e){return setPassword1(e.target.value);},required:true}),' ']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reg_box2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reg_box3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"reg_text\",children:\"Confirm Pass: \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"reg_box3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"reg_Base2\",name:\"password2\",type:\"password\",value:password2,onChange:function onChange(e){return setPassword2(e.target.value);},required:true}),' ']})]}),/*#__PURE__*/_jsx(\"br\",{}),password2==password1&&password1!=\"\"?/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Signup\"}):/*#__PURE__*/_jsx(\"dic\",{})]})]})})});};export default Signup;","map":{"version":3,"sources":["/Users/failop/Documents/UF/SeniorP/project/proj/Front_end/src/Component/auth/Signup.js"],"names":["React","useState","useEffect","Signup","email","setEmail","user","setUser","password1","setPassword1","password2","setPassword2","errors","setErrors","loading","setLoading","localStorage","getItem","window","location","replace","onSubmit","e","preventDefault","FormData","require","userR2","append","requestOptions","method","body","redirect","fetch","then","response","ok","console","log","text","Error","data","catch","error","clear","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport \"./../../css/Register2.css\"\n\nimport \"./../../css/Register.css\"\n\nconst Signup = () => {\n  const [email, setEmail] = useState('');\n  const [user, setUser] = useState('');\n  const [password1, setPassword1] = useState('');\n  const [password2, setPassword2] = useState('');\n  const [errors, setErrors] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (localStorage.getItem('token') !== null) {\n      window.location.replace('http://localhost:3000/');\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    var FormData = require('form-data');\n    var userR2 = new FormData();\n    userR2.append('user', user);\n    userR2.append('email', email);\n    userR2.append('password', password1);\n\n\n    var requestOptions = {\n      method: 'POST',\n      body: userR2,\n      redirect: 'follow'\n    };\n\n      fetch(\"https://stock-pipeli-users-fje2brrt8yy.herokuapp.com/register/\", requestOptions)\n      // .then(res => res.json())\n      .then(function(response) {\n          if(response.ok)\n          {\n            console.log(response.text())\n            return 0\n          }\n          throw new Error (\"Something went wrong\")\n      }\n      )\n      // => console.log(response.text()))\n      .then(data => {\n          window.location.replace('http://localhost:3000/')\n        }\n      )\n      .catch(function(error)\n      {\n        console.log(\"else happen\")\n          setUser('');\n          setEmail('');\n          setPassword1('');\n          setPassword2('');\n          localStorage.clear();\n          setErrors(true);\n        console.log('Request Failed', error)\n      });\n  };\n\n  return (\n    <div className=\"App\">\n          <header className=\"App-header\">\n          <div className=\"reg_box\">\n                {loading === false && <h1 className=\"reg_text0\" >Signup</h1>}\n                {errors === true && <h2 className=\"reg_text0\" >Cannot signup with provided credentials</h2>}\n                <form onSubmit={onSubmit}>\n                        {/* <label htmlFor='email'>Email address:</label> <br /> */}\n                        <div className=\"reg_box2\">\n                            <div className=\"reg_box3\">\n                                <div className=\"reg_text\">Username: </div>\n                            </div>\n                            <div className=\"reg_box3\">\n                                <input className=\"reg_Base2\" name='user'\n                                        type='user' value={user}\n                                    onChange={e => setUser(e.target.value)} required />{' '}\n                            </div>\n                        </div>\n\n\n                        {/* <label htmlFor='email'>Email address:</label> <br /> */}\n                        <div className=\"reg_box2\">\n                            <div className=\"reg_box3\">\n                                <div className=\"reg_text\">Email: </div>\n                            </div>\n                            <div className=\"reg_box3\">\n                                <input className=\"reg_Base2\" name='email'\n                                        type='email' value={email}\n                                    onChange={e => setEmail(e.target.value)} required />{' '}\n                            </div>\n                        </div>\n\n                        {/* <br /> */}\n                        {/* <label htmlFor='password1'>Password:</label> <br /> */}\n                        <div className=\"reg_box2\">\n                            <div className=\"reg_box3\">\n                                <div className=\"reg_text\">Password: </div>\n                            </div>\n                            <div className=\"reg_box3\">\n                                <input  className=\"reg_Base2\" name='password1'\n                                        type='password' value={password1}\n                                        onChange={e => setPassword1(e.target.value)} required />{' '}\n                            </div>\n                        </div>\n                        {/* <br /> */}\n                        {/* <label htmlFor='password2'>Confirm password:</label> <br /> */}\n\n\n                        <div className=\"reg_box2\">\n                            <div className=\"reg_box3\">\n                                <div className=\"reg_text\">Confirm Pass: </div>\n                            </div>\n                            <div className=\"reg_box3\">\n                                <input className=\"reg_Base2\" name='password2'\n                                        type='password'  value={password2}\n                                        onChange={e => setPassword2(e.target.value)} required />{' '}\n                            </div>\n                    </div>\n\n                    <br />\n                    {password2 == password1 && password1 != \"\"?\n                    <input type='submit' value='Signup' />\n                    :\n                    <dic></dic>\n                    }\n                    \n                </form>\n            </div>\n      </header>\n    </div>\n  );\n};\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}